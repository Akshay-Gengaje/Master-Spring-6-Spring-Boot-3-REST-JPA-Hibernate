# ResponseEntity -

In Spring Boot, a **ResponseEntity** represents the entire HTTP response, including the status code, headers, and body. It provides more flexibility compared to just returning a body from a controller method. You can control the full HTTP response, allowing you to customize the status code and headers along with the response body.

### Key Components of ResponseEntity:

1. **HTTP Status Code**: It allows you to set the HTTP status code (e.g., 200 OK, 404 Not Found, etc.).
2. **Response Headers**: You can add or modify HTTP headers.
3. **Response Body**: The content of the response, which could be any type of object, including JSON, XML, etc.

### Basic Structure of `ResponseEntity`

```java
public class ResponseEntity<T> extends HttpEntity<T>
```

Here, `T` represents the type of the response body. You can return a `ResponseEntity<T>` from your controller methods.

---

### Example Usage in a Spring Boot Controller:

#### 1. Returning a ResponseEntity with a Body and Status

```java
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/api")
public class ExampleController {

    @GetMapping("/hello")
    public ResponseEntity<String> sayHello() {
        String message = "Hello, World!";
        return new ResponseEntity<>(message, HttpStatus.OK);  // Returns 200 OK with body
    }
}
```

#### 2. Returning ResponseEntity with Custom Headers

```java
import org.springframework.http.HttpHeaders;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/api")
public class HeaderController {

    @GetMapping("/custom-header")
    public ResponseEntity<String> getCustomHeader() {
        HttpHeaders headers = new HttpHeaders();
        headers.add("Custom-Header", "CustomHeaderValue");

        return new ResponseEntity<>("Custom header set", headers, HttpStatus.OK);
    }
}
```

#### 3. Returning ResponseEntity with No Body

```java
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.DeleteMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/api")
public class NoBodyController {

    @DeleteMapping("/delete/{id}")
    public ResponseEntity<Void> deleteItem(@PathVariable Long id) {
        // Logic to delete an item
        return new ResponseEntity<>(HttpStatus.NO_CONTENT);  // Returns 204 No Content
    }
}
```

### Building ResponseEntity with Fluent API

Spring provides the **ResponseEntity Builder** that helps to create ResponseEntity in a more readable way.

```java
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/api")
public class FluentController {

    @GetMapping("/fluent")
    public ResponseEntity<String> fluentResponse() {
        return ResponseEntity.ok()
                             .header("Custom-Header", "CustomHeaderValue")
                             .body("Hello from fluent API");
    }
}
```

### Common HTTP Status Codes in ResponseEntity:

- `HttpStatus.OK (200)` – The request was successful.
- `HttpStatus.CREATED (201)` – Resource was created.
- `HttpStatus.NO_CONTENT (204)` – No content to return, but request was successful.
- `HttpStatus.BAD_REQUEST (400)` – Invalid request.
- `HttpStatus.NOT_FOUND (404)` – Resource not found.
- `HttpStatus.INTERNAL_SERVER_ERROR (500)` – Server error.

### Benefits of using ResponseEntity:

- **Full control** over the HTTP response (status, headers, body).
- Easily configurable responses for error handling and success cases.
- Integration with Spring's built-in exception handling.

---

This flexibility provided by `ResponseEntity` allows you to return different kinds of responses based on your application's needs, including custom headers, different status codes, and response body contents.
